<UserControl x:Class="Ghurund.Editor.ResourceEditor.MaterialEditorPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
			 xmlns:system="clr-namespace:System;assembly=mscorlib"
             xmlns:local="clr-namespace:Ghurund.Editor.ResourceEditor"
			 xmlns:workspace="clr-namespace:Ghurund.Controls.Workspace;assembly=GhurundWorkspace"
			 xmlns:managed="clr-namespace:Ghurund.Managed;assembly=ManagedDll"
			 xmlns:controls="clr-namespace:Ghurund.Controls;assembly=Controls"
			 xmlns:wpf="http://schemas.microsoft.com/netfx/2009/xaml/presentation"
			 xmlns:property="clr-namespace:Ghurund.Editor.Property"
			 xmlns:avalonedit="http://icsharpcode.net/sharpdevelop/avalonedit"
			 mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
	
	<UserControl.Resources>
		<ObjectDataProvider x:Key="dataFromEnum" MethodName="GetValues"
                            ObjectType="{x:Type system:Enum}">
			<ObjectDataProvider.MethodParameters>
				<x:Type TypeName="local:SampleModel"/>
			</ObjectDataProvider.MethodParameters>
		</ObjectDataProvider>
	</UserControl.Resources>
	<wpf:DockPanel>
		<ToolBarTray DockPanel.Dock="Top" Background="{DynamicResource Ghurund.Background}" IsLocked="True">
			<ToolBar>
				<controls:IconButton Icon="../Resources/build32.png"
									 Name="build" ToolTip="Build shader"
									 Style="{StaticResource IconButton_Large}"
									 Click="Build_Click"/>
				<Separator/>
				<wpf:ComboBox x:Name="modelPicker" SelectionChanged="Model_SelectionChanged"
							  ItemsSource="{Binding Source={StaticResource dataFromEnum}}"
							  SelectedItem="{Binding Path=SampleModel}"/>
				<Separator/>
				<controls:IconCheckBox Icon="../Resources/icons/plane32.png" Name="showPlane" Style="{StaticResource IconCheckBox_Large}" Click="ShowPlane_Click"/>
				<controls:IconButton Icon="../Resources/reset32.png" Name="resetCamera" Style="{StaticResource IconButton_Large}" Click="ResetCamera_Click"/>
				<wpf:ComboBox x:Name="cameraPicker" SelectionChanged="Camera_SelectionChanged"/>
			</ToolBar>
		</ToolBarTray>
		<TabControl Style="{StaticResource Workspace.TabControl}" TabStripPlacement="Bottom" BorderThickness="0,0,0,1">
			<TabItem Style="{StaticResource Workspace.TabItem}" Header="Code">
				<DockPanel>
					<Border DockPanel.Dock="Bottom" BorderThickness="0,1,0,0" BorderBrush="{DynamicResource Ghurund.Border}">
						<TextBlock x:Name="status" Background="{DynamicResource Ghurund.Background}" Text="[0:0]"/>
					</Border>
					<avalonedit:TextEditor FontFamily="Consolas" FontSize="9pt"
								   x:Name="shaderCode" VerticalScrollBarVisibility="Auto"
								   Padding="4,0,4,0" BorderThickness="0" PreviewMouseUp="ShaderCode_MouseUp"
								   SyntaxHighlighting="HLSL" ShowLineNumbers="True"
								   LineNumbersForeground="{DynamicResource Ghurund.Text.Disabled}"/>
				</DockPanel>
			</TabItem>
			<TabItem Style="{StaticResource Workspace.TabItem}" Header="Preview">
				<workspace:SplitPanel Panel2Size="200" Orientation="Horizontal">
					<workspace:SplitPanel.Panel1>
						<managed:SceneView x:Name="preview"/>
					</workspace:SplitPanel.Panel1>
					<workspace:SplitPanel.Panel2>
						<property:ParameterGrid x:Name="propertyGrid" Background="{DynamicResource Ghurund.BackgroundLight}"/>
					</workspace:SplitPanel.Panel2>
				</workspace:SplitPanel>
			</TabItem>
		</TabControl>
	</wpf:DockPanel>
</UserControl>
